---
const myIntro = [
	"# Hi, I’m Biswarup.",
	"",
	"I am a Linux enthusiast who loves the quiet complexity",
	"of building and managing home servers.",
	"",
	"When I’m not in a terminal, I’m usually lost in a",
	"book or a movie.",

	"",
	"> And yes, writing heals.",
];

const relIndex = (index: Number) => {
	const currentline = myIntro.length;
	if (currentline === index) {
		return currentline;
	}
	let relLineNo = currentline - index;
	if (relLineNo < 0) {
		relLineNo *= -1;
	}
	return relLineNo;
};

const charIndex = () => {
	const line = myIntro.length;
	const lineLength = myIntro.at(-1).length;
	return `Bot ${line}:${lineLength}`;
};
---

<section class="vim-window">
	<div class="vim-body">
		{
			myIntro.map((line, index) => (
				<div class="vim-line">
					<span class="gutter">{relIndex(index + 1)}</span>
					<span class="text">{line}</span>
				</div>
			))
		}

		<div class="vim-line">
			<span class="gutter empty">~</span>
		</div>
		<div class="vim-line">
			<span class="gutter empty">~</span>
		</div>
	</div>

	<div class="vim-status-bar">
		<div class="status-left">
			<span class="mode">[NORMAL]</span>
			<span class="filename">intro.md</span>
		</div>
		<div class="status-right">
			<span class="file-type">text</span>
			<span class="position">{charIndex}</span>
		</div>
	</div>
</section>

<style>
	.vim-window {
		width: 100%;
		margin-bottom: 1rem;

		/* Removed border and background colors for cleaner look */
		background: transparent;

		font-family: "Menlo", "Monaco", "Courier New", monospace;
		font-size: 0.95rem;
		line-height: 1.5;

		display: flex;
		flex-direction: column;
	}

	/* --- BODY --- */
	.vim-body {
		padding: 1rem 0;
		min-height: 200px;
	}

	.vim-line {
		display: flex;
		gap: 1.5rem;
		padding: 0 0.5rem; /* Reduced padding slightly since no border */
	}

	.gutter {
		color: #a1a1aa; /* Lighter gray for line numbers */
		text-align: right;
		min-width: 1.5rem;
		user-select: none;
	}

	.gutter.empty {
		color: #3f3f46; /* Dark gray tilde */
		font-weight: bold;
	}

	.text {
		white-space: pre-wrap;
	}

	/* --- STATUS BAR --- */
	.vim-status-bar {
		/* Lighter background instead of black */
		background: #f4f4f5;
		color: #000;

		/* Subtle top border to separate it from content */
		border-top: 1px solid #e4e4e7;

		padding: 4px 10px;
		display: flex;
		justify-content: space-between;
		font-weight: 600;
		font-size: 0.8rem;
		margin-top: 1rem;
	}

	.status-left,
	.status-right {
		display: flex;
		gap: 1rem;
	}

	.mode {
		font-weight: 800;
	}

	/* Mobile Tweak */
	@media (max-width: 500px) {
		.vim-window {
			font-size: 0.85rem;
		}
		.vim-line {
			gap: 1rem;
		}
	}
</style>
